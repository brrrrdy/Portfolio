<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Redirecting...</title>
    <script>
      // GitHub Pages SPA redirect handler
      // This script takes the current pathname and redirects to the main page
      // with the path as a query parameter that our router can handle
      const pathSegments = window.location.pathname
        .split("/")
        .filter((segment) => segment);

      // Remove the repository name if it exists in the path (for GitHub Pages)
      // Adjust 'Portfolio' to match your repository name if different
      const repoName = "Portfolio";
      if (pathSegments[0] === repoName) {
        pathSegments.shift();
      }

      // Reconstruct the path
      const redirectPath = "/" + pathSegments.join("/");

      // Redirect to index.html with the path as a query parameter
      const redirectUrl =
        window.location.origin +
        (window.location.pathname.includes("/" + repoName)
          ? "/" + repoName
          : "") +
        "/?redirect=" +
        encodeURIComponent(redirectPath) +
        window.location.search.replace(/^\?/, "&") +
        window.location.hash;

      window.location.replace(redirectUrl);
    </script>
  </head>
  <body>
    <p>Redirecting...</p>
  </body>
</html>
